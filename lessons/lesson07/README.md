# Lesson 7: 资源管理与清理

## 课程目标
学习如何正确管理任务资源，了解资源清理的最佳实践。

## 学习内容
- 如何使用Using方法注册资源
- 如何使用OnStop方法注册清理函数
- 资源自动清理机制
- 资源泄漏的预防

## 任务说明
本课程演示了文件处理和网络连接等需要资源管理的场景。你需要按照TODO注释的提示，逐步取消注释来完成代码。

## 运行方法
```bash
cd lesson07
go run main.go
```

## 预期结果
当你完成所有TODO后，运行程序应该看到类似以下的输出：
```
=== GoTask Lesson 7: 资源管理与清理 ===
本课程将教你如何正确管理任务资源
请按照TODO注释的提示，逐步取消注释来完成代码

资源管理任务 资源管理器 已启动
文件处理任务 test.txt 已启动
网络连接任务 数据库连接 已启动
网络连接任务 数据库连接 连接成功
文件处理任务 test.txt 正在处理文件...
网络连接任务 数据库连接 正在运行...
文件处理任务 test.txt 处理完成
网络连接任务 数据库连接 运行完成
网络连接任务 数据库连接 连接已断开
文件处理任务 test.txt 已清理，处理状态: true
网络连接任务 数据库连接 已清理
资源管理任务 资源管理器 已清理
=== 课程完成 ===
如果看到资源清理的日志，说明你已经成功完成了Lesson 7!
```

## 知识点
1. **Using方法**：注册需要自动清理的资源
2. **OnStop方法**：注册任务停止时的清理函数
3. **资源自动清理**：任务停止时自动调用清理函数
4. **资源泄漏预防**：确保所有资源都能正确释放
5. **清理顺序**：子任务先清理，父任务后清理
